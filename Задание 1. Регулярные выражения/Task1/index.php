<?php

    // Функция для умножения числа из найденного совпадения на 2
    function numX2($matches) {
        // Умножаем найденное число (matches[1]) на 2 и оборачиваем в кавычки
        return "'" . $matches[1] * 2 . "'";
    }

    // Исходная строка
    $string = "'2'2'";

    // Регулярное выражение для поиска чисел в одинарных кавычках
    $pattern = "/'(-?\d*)'/";

    // Применяем замену с помощью функции numX2
    $result = preg_replace_callback($pattern, "numX2", $string);

    // Выводим результат
    echo($result);
